Currently, many online analysis articles focus on maintaining processor speed, which has become a higher priority than security considerations. Even the repair solutions from manufacturers are designed to avoid affecting device performance. Whenever a vulnerability is exposed, the speed at which vendors release patches is often criticized, and this situation is no different. For these two vulnerabilities, cloud users and IT administrators, in particular, need to pay attention and promptly apply the fixes.

In theory, after applying the patches and updates, everything should be fine. However, it's not that simple, as some unfortunate users have encountered additional problems. After the vulnerabilities were disclosed, Google stated that the currently released software repairs "have minimal impact on performance" and insisted that over time, the impact of the patches on performance would decrease. Intel also mentioned in its announcement: "Any performance impact depends on the workload. For general computer users, the impact of the patch on performance is not significant and will lessen over time." Due to the so-called Processor-Context ID (PCID) feature of the chips, these statements may hold true and ultimately be correct. However, more issues are still to follow.

The impact of the patches on device performance has already been evident. Although most ordinary desktop users and gamers have not noticed any delay, slowdown, or performance degradation, users running IO or system call-intensive software, such as databases on backend servers, might notice the effect of the patched CPU. Red Hat in the U.S. has set the range of the performance impact of the patches between 1% and 20%. Epic Games also explained last Friday regarding the recent login and server stability issues faced by players: "All our cloud services have been affected due to patching and fixing Meltdown and Spectre."
2023年7月24日,AMD发布了一份安全公告,披露了其Zen2计算机处理器微架构中的一个漏洞。该漏洞被AMD命名为“跨进程信息泄露”,也被称为“Zenbleed”。该漏洞被标记为CVE-2023-20593,并被AMD评为中等严重程度。此问题允许攻击者在特定情况下访问CPU处理的敏感信息。所有运行在基于AMD Zen2处理器上的软件,包括虚拟机、沙箱、容器和进程,都会受到影响。利用此漏洞的软件可能已经存在,预计基于此漏洞的攻击很快就会发生。

所有AMD Zen2 CPU,包括EPYC Rome处理器,都存在此漏洞,具体包括:
- AMD Ryzen 3000系列处理器
- AMD Ryzen PRO 3000系列处理器
- AMD Ryzen Threadripper 3000系列处理器
- 带有Radeon显卡的AMD Ryzen 4000系列处理器
- 带有Radeon显卡的AMD Ryzen PRO 4000系列处理器
- 带有Radeon显卡的AMD Ryzen 5000系列处理器
- 带有Radeon显卡的AMD Ryzen 7020系列处理器
- 第二代AMD EPYC “Rome”处理器

对OVHcloud产品的影响
针对这一事件,我们立即审查了安全公告和技术信息,并确定了以下对我们产品可能产生的影响。
- 公共云:所有产品未受影响
- 托管私有云:所有产品未受影响
- 网站托管与域名:所有产品未受影响
- 裸机云:ADVANCE-1, Advance STOR-1, Advance STOR-2, Game-1, Game-2, HGR-SDS-2, HGR-HCI-4, HGR-HCI-5, HGR-HCI-6, Infra-2, Rise-GAME-1, Rise-GAME-2, Scale-1, Scale-2, Scale-3(仅限由AMD Zen2驱动的服务器)可能受影响
- 其他商用系列专用服务器:未受影响

如何缓解漏洞:
- 客户自行缓解:通过固件包更新在启动时加载修补的微代码。此解决方案将通过操作系统更新(例如linux-firmware包)触发处理器微代码的更新。您可以在您的操作系统编辑器或社区分发更新包后进行操作。此方法取决于您的发行版或操作系统编辑器,并且只有在AMD提供了适当的微代码时才有效。目前,只有“Zen2 Rome”和“Zen2 Castle Peak”可以通过此方法覆盖。
- 使用更新的内核缓解:当无法通过固件更新包获得微代码更新时,您可以更新内核版本,通过配置所谓的“chicken bit”来禁用故障处理器功能以实现缓解。这可能会影响系统的性能。此解决方案将在操作系统编辑器回传新版本的Linux内核时包含。我们建议客户优先采用此缓解策略,因为这是最有效的,不依赖于硬件供应商是否提供更新的微代码。
- 作为替代方案,您可以手动设置chicken bit而不依赖内核更新。然而,我们不推荐这种可能对系统有风险的解决方案。

OVHcloud发起的缓解措施
OVHcloud团队正在努力实施透明的解决方案,确保客户的修补微代码以透明的方式更新。这些解决方案将逐步部署到我们的服务器上。目前正在评估两个主要选项。
- 使用OVHcloud iPXE:当客户使用标准的OVHcloud网络启动(最常见的配置)时,引导加载程序可能会加载微代码更新。一旦可用,通过OVHcloud客户界面重启服务器将导致在从磁盘启动之前加载更新的微代码,从而缓解漏洞。但是,如果您不使用OVHcloud网络启动系统直接从磁盘启动,则不会应用缓解措施,您应该考虑依赖操作系统级别的缓解措施。
- 使用UEFI:UEFI固件更新可能在启动时更新CPU微代码。包括修补微代码的UEFI固件更新可能会在未来几个月内由主板制造商提供。一旦可用,OVHcloud将在任何新交付的服务器上包含此修补微代码。客户随后可以通过联系支持请求UEFI固件更新。

作为潜在受影响服务器的管理员,我该怎么办?
首先,使用我们团队开发的工具(仅限Linux)检查您的服务器是否受到此漏洞的影响:
# wget https://raw.githubusercontent.com/speed47/spectre-meltdown-checker/master/spectre-meltdown-checker.sh
# sh spectre-meltdown-checker.sh --variant zenbleed --explain
如果工具显示“NOT VULNERABLE”(未受影响),则您已经安全,无需进一步行动。
如果工具显示“VULNERABLE”(受影响),则应评估您面临威胁的程度。
什么是机密计算?在过去的几十年里,IT行业主要关注保护存储或传输中的数据。数据加密和解密已成为一种普遍服务,几乎所有用户和公司都在使用,例如用于安全连接的VPN或微软用于加密存储设备的BitLocker。但在处理数据时会发生什么?实际上,在数据处理步骤中,数据没有真正的安全保障。这就是机密计算变得必要的地方。

为什么机密计算很重要?2017年6月,IT界处于警戒状态,世界各地的IT部门加班应对一个有可能摧毁基础设施核心的威胁:Meltdown和Spectre。这些关键硬件漏洞的目标是CPU,影响了自1995年以来生产的使用AMD/Intel处理器的PC、笔记本电脑、服务器和其他设备。这些攻击允许恶意程序访问内存以及其他程序和操作系统。这个例子说明了为什么在数据处理期间进行数据加密和解封也很重要。

机密计算如何工作?以下解释基于英特尔SGX(Intel® Software Guard Extensions),这是OVHcloud在其配备Intel Xeon E-2288G CPU的服务器系列中提供的技术。此外,OVHcloud还提供适用于AMD Zen架构EPYC处理器的AMD Infinity Guard。机密计算通过在安全飞地中运行数据和应用程序来保护它们。飞地是由CPU(可信)保护的内存中的隔离区域,其中包含敏感的应用程序数据。这些内存区域中的代码和数据只能在飞地内部访问。这将数据和代码隔离起来,防止未经授权的访问,即使计算基础设施受到损害。Intel® SGX技术代表了机密计算的主要实现之一,它允许组织将软件和数据与底层基础设施(硬件或操作系统)隔离开来。

结果是:用户现在可以在不受信任的基础设施、公共云和其他托管环境中运行敏感的应用程序和数据。这使用户对其安全边界内外的应用程序和数据的安全性和隐私性有了更大的控制权。

合作伙伴如何从OVHcloud的机密计算产品中受益?机密云产品为客户和合作伙伴提供了以下好处:
- 保护使用中的数据和应用程序
- 帮助保护知识产权(IP)
- 用户可以对整个数据生命周期启用加密
- 避免对正在处理的数据进行攻击和未经授权的访问
- 用户对云中的数据拥有完全控制权

对于在处理过程中处理敏感数据的每个用户来说,机密计算都很重要。借助机密计算,数据是安全的,并且您可以在操作期间将敏感数据与更常见的数据分开。例如,使用敏感数据训练机器学习模型。

通过机密计算,合作伙伴可以为需要安全环境的客户提供一系列产品和解决方案。这可能是金融服务或其他处理个人数据领域的解决方案。

有关OVHcloud机密计算产品组合的更多信息,请访问:
https://www.ovhcloud.com/en/bare-metal/uc-confidential-computing/
请访问
https://www.ovhcloud.com/en/case-studies/securitee/
了解我们的合作伙伴SECURITEE如何利用OVHcloud产品组合提供机密计算解决方案。
我们与OVHcloud的合作非常顺利高效。我们的联合产品可以说是市场上最安全且随时可用的云计算解决方案——这在欧洲市场是一个真正的首创。